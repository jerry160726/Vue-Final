"use strict";(self["webpackChunkweek7"]=self["webpackChunkweek7"]||[]).push([[910],{1530:function(t,e,s){function a(t){return{all:t=t||new Map,on:function(e,s){var a=t.get(e);a?a.push(s):t.set(e,[s])},off:function(e,s){var a=t.get(e);a&&(s?a.splice(a.indexOf(s)>>>0,1):t.set(e,[]))},emit:function(e,s){var a=t.get(e);a&&a.slice().map((function(t){t(s)})),(a=t.get("*"))&&a.slice().map((function(t){t(e,s)}))}}}s.d(e,{Z:function(){return i}});const o=a();var i=o},3910:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=s(6252);const o=t=>((0,a.dD)("data-v-8af7ddde"),t=t(),(0,a.Cn)(),t),i={class:"container py-5"},r={class:"banner d-flex align-items-center"},c={class:"container flex-column py-3 text-center"},n=o((()=>(0,a._)("h2",{class:"title text-white fw-bold"},"訂單完成",-1))),d=o((()=>(0,a._)("p",{class:"slogan text-white mb-3"},[(0,a.Uk)(" 感謝您的購買！"),(0,a._)("br"),(0,a.Uk)(" 您的訂單， 將在 1 ~ 3 個工作天內出貨！ ")],-1))),h={class:"banner-btn"},p=(0,a.Uk)(" 繼續選購");function u(t,e,s,o,u,l){const g=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("div",c,[n,d,(0,a._)("div",h,[(0,a.Wm)(g,{to:"/products",class:"btn btn-outline-danger reservation-btn btn-sm me-2 fs-5 px-3 py-2"},{default:(0,a.w5)((()=>[p])),_:1})])])])])}var l=s(1530),g={data(){return{cartData:{carts:[]},form:{user:{name:"",email:"",tel:"",address:"",message:""}},products:[],product:{},productId:"",isLoadingItem:""}},methods:{getProducts(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ttest/products/all").then((t=>{this.products=t.data.products}))},openProductModal(t){this.productId=t,this.$refs.productModal.openModal()},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ttest/cart").then((t=>{this.cartData=t.data.data}))},addToCart(t,e=1){const s={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ttest/cart",{data:s}).then((t=>{console.log(t.data),this.getCart(),this.$refs.productModal.closeModal(),this.isLoadingItem="",l.Z.emit("get-cart")})).catch((t=>{console.log(t.data)}))},removeCartItem(t){this.isLoadingItem=t,this.$http.delete(`https://vue3-course-api.hexschool.io/v2/api/ttest/cart/${t}`).then((t=>{this.getCart(),this.isLoadingItem="",l.Z.emit("get-cart")}))},removeCartItems(){this.$http.delete("https://vue3-course-api.hexschool.io/v2/api/ttest/carts").then((()=>{this.getCart(),l.Z.emit("get-cart")})).catch((t=>{console.log(t.data)}))},updateCart(t){const e={product_id:t.product.id,qty:t.qty};this.isLoadingItem=t.id,this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/ttest/cart/${t.id}`,{data:e}).then((t=>{console.log(t.data),this.getCart(),this.isLoadingItem="",l.Z.emit("get-cart")}))},createOrder(){const t="https://vue3-course-api.hexschool.io/v2/api/ttest/order",e=this.form;this.$http.post(t,{data:e}).then((t=>{console.log(t),alert(t.data.message),this.$refs.form.resetForm(),this.form.message="",this.getCart()})).catch((t=>{alert(t.data.message)}))}},mounted(){this.getProducts(),this.getCart()}},m=s(3744);const f=(0,m.Z)(g,[["render",u],["__scopeId","data-v-8af7ddde"]]);var v=f}}]);
//# sourceMappingURL=910.b911eaa1.js.map