{"version":3,"file":"js/29.c7554c49.js","mappings":"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","sources":["webpack://week7/./node_modules/mitt/dist/mitt.mjs","webpack://week7/./src/libs/emitter.js","webpack://week7/./src/views/ProductsView.vue","webpack://week7/./src/views/ProductsView.vue?91db"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\n\r\nexport default emitter\r\n","<template>\r\n   <div class=\"banner d-flex align-items-center\">\r\n    <div class=\"container flex-column py-3\">\r\n      <h2 class=\"title text-white fw-bold text-center\">產品頁面</h2>\r\n    </div>\r\n  </div>\r\n  <div class=\"container mt-md-5 mt-3 mb-7\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-4\">\r\n        <div class=\"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3\"\r\n          id=\"accordionExample\">\r\n          <div class=\"card border-0\">\r\n            <div class=\"card-header px-0 py-3 bg-white\r\n                border border-bottom-0 border-top border-start-0 border-end-0\r\n                rounded-0\" id=\"headingOne\"\r\n              data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne\">\r\n              <div class=\"d-flex justify-content-between align-items-center pe-1\">\r\n                <h4 class=\"mb-0 fw-bold ps-3\">商品分類<i class=\"bi bi-caret-down\"></i></h4>\r\n              </div>\r\n            </div>\r\n            <div id=\"collapseOne\" class=\"collapse show\" aria-labelledby=\"headingOne\" data-bs-parent=\"#accordionExample\">\r\n              <div class=\"card-body py-0\">\r\n                <ul class=\"list-unstyled\">\r\n                  <li class=\"d-grid\">\r\n                      <button class=\"btn btn-outline-secondary mb-2\"\r\n                      @click=\"getProducts()\">全部商品</button>\r\n                  </li>\r\n                  <li class=\"d-grid\">\r\n                      <button class=\"btn btn-outline-secondary mb-2\"\r\n                      @click=\"getProducts('巧克力')\">巧克力區</button>\r\n                  </li>\r\n                  <li class=\"d-grid\">\r\n                      <button class=\"btn btn-outline-secondary mb-2\"\r\n                      @click=\"getProducts('糕點')\">糕點區</button>\r\n                  </li>\r\n                  <li class=\"d-grid\">\r\n                      <button class=\"btn btn-outline-secondary mb-2\"\r\n                      @click=\"getProducts('糖果')\">糖果區</button>\r\n                  </li>\r\n                  <li class=\"d-grid\">\r\n                      <button class=\"btn btn-outline-secondary mb-3 d-grid\"\r\n                      @click=\"getProducts('禮盒')\">禮盒區</button>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"row row-cols-1 row-cols-lg-3 g-3\">\r\n          <div class=\"product col-md-6\" v-for=\"product in products\" :key=\"product.id\">\r\n              <div class=\"card h-100\">\r\n                <router-link :to=\"`/product/${product.id}`\" style=\"overflow: hidden;\">\r\n                <div :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\r\n                      style=\"height: 200px;\r\n                            background-size: cover;\r\n                            background-position: center center;\r\n                            transition: all 1s ease 0s;\r\n                            \"\r\n                      class=\"card-img-top\"></div>\r\n                </router-link>\r\n                <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">{{ product.title }}</h5>\r\n                  <p class=\"card-text\" style=\"height: 3rem; overflow:hidden\">\r\n                    {{ product.description }}\r\n                  </p>\r\n                  <div class=\"priceArea py-2 d-flex\">\r\n                   <span class=\"text-muted\"><del>NT${{ product.origin_price }}</del></span>&nbsp;&nbsp;\r\n                    <p class=\"card-text price\">\r\n                    NT${{ product.price }}</p>\r\n                  </div>\r\n                  <router-link :to=\"`/product/${product.id}`\"\r\n                  class=\"info btn btn-outline-success me-2\">\r\n                  產品資料</router-link>\r\n                  <!-- <router-link :to=\"`/product/${product.id}`\"\r\n                  class=\"order btn btn-outline-danger\">\r\n                  加到購物車</router-link> -->\r\n                  <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-danger\"\r\n                  @click=\"addToCart(product.id)\"\r\n                  :disabled=\"isLoadingItem === product.id\"\r\n                >\r\n                  <!-- 當兩個一致的時候 就不會再執行 -->\r\n                  <span\r\n                    class=\"spinner-border spinner-border-sm\"\r\n                    v-show=\"isLoadingItem === product.id\"\r\n                  ></span>\r\n                  <!-- bootstrap也有讀取按鈕 -->\r\n                  加到購物車\r\n                </button>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" src=\"../assets/stylesheets/pages/productsView.scss\" scoped>\r\n</style>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      isLoadingItem: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (category) {\r\n      let url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      if (category) {\r\n        url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?category=${category}`\r\n      }\r\n      this.$http(url).then((res) => {\r\n        this.products = res.data.products\r\n      })\r\n    },\r\n    addToCart (id, qty = 1) {\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoadingItem = id\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`,\r\n          { data }\r\n        )\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.isLoadingItem = ''\r\n          emitter.emit('get-cart')\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.data)\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsView.vue?vue&type=template&id=feeda598&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"../assets/stylesheets/pages/productsView.scss?vue&type=style&index=0&id=feeda598&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\Practice\\\\Vue Live\\\\Final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-feeda598\"]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","id","style","_hoisted_1","_hoisted_7","onClick","$options","_createElementBlock","_Fragment","_renderList","$data","product","key","_createVNode","_component_router_link","to","backgroundImage","imageUrl","_toDisplayString","title","description","origin_price","price","type","disabled","data","products","isLoadingItem","methods","getProducts","category","url","this","$http","then","res","addToCart","qty","product_id","post","console","log","catch","err","mounted","__exports__","render"],"sourceRoot":""}