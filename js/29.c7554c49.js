"use strict";(self["webpackChunkweek7"]=self["webpackChunkweek7"]||[]).push([[29],{1530:function(t,e,s){function o(t){return{all:t=t||new Map,on:function(e,s){var o=t.get(e);o?o.push(s):t.set(e,[s])},off:function(e,s){var o=t.get(e);o&&(s?o.splice(o.indexOf(s)>>>0,1):t.set(e,[]))},emit:function(e,s){var o=t.get(e);o&&o.slice().map((function(t){t(s)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,s)}))}}}s.d(e,{Z:function(){return c}});const d=o();var c=d},6029:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var o=s(6252),d=s(3577),c=s(9963);const a=t=>((0,o.dD)("data-v-feeda598"),t=t(),(0,o.Cn)(),t),i=a((()=>(0,o._)("div",{class:"banner d-flex align-items-center"},[(0,o._)("div",{class:"container flex-column py-3"},[(0,o._)("h2",{class:"title text-white fw-bold text-center"},"產品頁面")])],-1))),n={class:"container mt-md-5 mt-3 mb-7"},r={class:"row"},l={class:"col-md-4"},u={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},b={class:"card border-0"},p=a((()=>(0,o._)("div",{class:"card-header px-0 py-3 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[(0,o._)("div",{class:"d-flex justify-content-between align-items-center pe-1"},[(0,o._)("h4",{class:"mb-0 fw-bold ps-3"},[(0,o.Uk)("商品分類"),(0,o._)("i",{class:"bi bi-caret-down"})])])],-1))),g={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},_={class:"card-body py-0"},h={class:"list-unstyled"},m={class:"d-grid"},v={class:"d-grid"},f={class:"d-grid"},w={class:"d-grid"},k={class:"d-grid"},y={class:"col-md-8"},x={class:"row row-cols-1 row-cols-lg-3 g-3"},C={class:"card h-100"},$={class:"card-body"},I={class:"card-title"},P={class:"card-text",style:{height:"3rem",overflow:"hidden"}},z={class:"priceArea py-2 d-flex"},L={class:"text-muted"},O=(0,o.Uk)("   "),U={class:"card-text price"},D=(0,o.Uk)(" 產品資料"),T=["onClick","disabled"],Z={class:"spinner-border spinner-border-sm"},j=(0,o.Uk)(" 加到購物車 ");function E(t,e,s,a,E,H){const N=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[i,(0,o._)("div",n,[(0,o._)("div",r,[(0,o._)("div",l,[(0,o._)("div",u,[(0,o._)("div",b,[p,(0,o._)("div",g,[(0,o._)("div",_,[(0,o._)("ul",h,[(0,o._)("li",m,[(0,o._)("button",{class:"btn btn-outline-secondary mb-2",onClick:e[0]||(e[0]=t=>H.getProducts())},"全部商品")]),(0,o._)("li",v,[(0,o._)("button",{class:"btn btn-outline-secondary mb-2",onClick:e[1]||(e[1]=t=>H.getProducts("巧克力"))},"巧克力區")]),(0,o._)("li",f,[(0,o._)("button",{class:"btn btn-outline-secondary mb-2",onClick:e[2]||(e[2]=t=>H.getProducts("糕點"))},"糕點區")]),(0,o._)("li",w,[(0,o._)("button",{class:"btn btn-outline-secondary mb-2",onClick:e[3]||(e[3]=t=>H.getProducts("糖果"))},"糖果區")]),(0,o._)("li",k,[(0,o._)("button",{class:"btn btn-outline-secondary mb-3 d-grid",onClick:e[4]||(e[4]=t=>H.getProducts("禮盒"))},"禮盒區")])])])])])])]),(0,o._)("div",y,[(0,o._)("div",x,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(E.products,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"product col-md-6",key:t.id},[(0,o._)("div",C,[(0,o.Wm)(N,{to:`/product/${t.id}`,style:{overflow:"hidden"}},{default:(0,o.w5)((()=>[(0,o._)("div",{style:(0,d.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"200px","background-size":"cover","background-position":"center center",transition:"all 1s ease 0s"}]),class:"card-img-top"},null,4)])),_:2},1032,["to"]),(0,o._)("div",$,[(0,o._)("h5",I,(0,d.zw)(t.title),1),(0,o._)("p",P,(0,d.zw)(t.description),1),(0,o._)("div",z,[(0,o._)("span",L,[(0,o._)("del",null,"NT$"+(0,d.zw)(t.origin_price),1)]),O,(0,o._)("p",U," NT$"+(0,d.zw)(t.price),1)]),(0,o.Wm)(N,{to:`/product/${t.id}`,class:"info btn btn-outline-success me-2"},{default:(0,o.w5)((()=>[D])),_:2},1032,["to"]),(0,o._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>H.addToCart(t.id),disabled:E.isLoadingItem===t.id},[(0,o.wy)((0,o._)("span",Z,null,512),[[c.F8,E.isLoadingItem===t.id]]),j],8,T)])])])))),128))])])])])],64)}var H=s(1530),N={data(){return{products:[],isLoadingItem:""}},methods:{getProducts(t){let e="https://vue3-course-api.hexschool.io/v2/api/ttest/products/all";t&&(e=`https://vue3-course-api.hexschool.io/v2/api/ttest/products?category=${t}`),this.$http(e).then((t=>{this.products=t.data.products}))},addToCart(t,e=1){const s={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/ttest/cart",{data:s}).then((t=>{console.log(t),this.isLoadingItem="",H.Z.emit("get-cart")})).catch((t=>{console.log(t.data)}))}},mounted(){this.getProducts()}},W=s(3744);const Y=(0,W.Z)(N,[["render",E],["__scopeId","data-v-feeda598"]]);var q=Y}}]);
//# sourceMappingURL=29.c7554c49.js.map